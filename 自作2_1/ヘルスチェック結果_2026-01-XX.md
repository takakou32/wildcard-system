# ヘルスチェック結果レポート

## 確認日時
2026-01-XX XX:XX

## 全体結果
⚠️ 軽微な問題あり

## 各観点の結果

### 観点1: scene mappingとthemeのシーンの流れが一致しているか

### 結果
✅ 問題なし

### 詳細
- シーンライブラリの網羅性: ✅
  - `wildcard_rules.md`で説明されている15種類のシーンライブラリが全て存在
  - 実際に存在するファイル: 16ファイル（`pose_scenes_shrine_newyear.yaml`が追加で存在）
- シーン数の一致: ✅
  - ドキュメント記載のシーン数と実際のファイル内容が一致
- シーン名の整合性: ✅
  - シーンキー名が一貫している
- シーンフローの時系列整合性: ✅
  - 連番が時系列順になっている
- scene_outfit_mapping.mdとの整合性: ✅
  - カテゴリ略称がマッピング表と一致

### 発見された問題
なし

---

### 観点2: themeがparamsにないパラメータを参照していないか

### 結果
⚠️ 軽微な問題あり

### 詳細
- 服装パラメータの存在確認: ⚠️
  - **問題**: `pose_scenes_train.yaml`で`__自作2_1/params/outfit_business__`を参照しているが、`params/character_outfits.yaml`には`outfit_business`が定義されていない
  - 代わりに`blouse_skirt_blazer`や`office_lady`が定義されている
- 場所パラメータの存在確認: ✅
  - 参照されている場所パラメータは全て`params/pose_places.yaml`に定義されている
- 時間帯パラメータの存在確認: ✅
  - 参照されている時間帯パラメータは全て`params/pose_times.yaml`に定義されている
- 男性タイプの存在確認: ✅
  - `__MALE_TYPE__`はプレースホルダーとして使用されており、実際のパラメータ参照ではない（正常）
- アングルパラメータの存在確認: ✅
  - 参照されているアングルパラメータは全て`params/angles.yaml`に定義されている
- 表情・雰囲気パラメータの存在確認: ✅
  - 参照されている表情・雰囲気パラメータは全て`themes/lovey/`内に定義されている

### 発見された問題
1. **`pose_scenes_train.yaml`で未定義パラメータを参照**
   - ファイル: `themes/lovey/pose_scenes_train.yaml`
   - 問題: `__自作2_1/params/outfit_business__`を参照しているが、`params/character_outfits.yaml`に`outfit_business`が定義されていない
   - 影響範囲: 電車・交通系シーンライブラリ全体（約100行以上）
   - 推奨修正: `outfit_business`を`blouse_skirt_blazer`または`office_lady`に置き換える

### 修正が必要なファイル
- `themes/lovey/pose_scenes_train.yaml` - `outfit_business`を`blouse_skirt_blazer`または`office_lady`に置き換え

---

### 観点3: wildcard_rules.md、common_library_creation_rules.mdの例が実際のthemeやparamsやtemplateと矛盾していないか

### 結果
✅ 問題なし

### 詳細
- 例示されているキー名の存在: ✅
  - ルールファイル内の例示キー名は実際のファイルに存在
- パスの正確性: ✅
  - 例示されている参照パスは実際のファイル構造と一致
- 連番の実例との整合性: ✅
  - 連番フォーマット（SS_CC_NNN）が実際のファイルと一致
- 服装命名規則の一致: ✅
  - 推奨される服装名が実際のキー名と一致（`outfit_xxx`形式は使用されていない）
- 場所リストの一致: ✅
  - ドキュメントに列挙されている場所が実際のファイルに存在
- テンプレートファイルの存在: ✅
  - 参照されているテンプレートファイルが全て存在
- 質問番号の一貫性: ✅
  - 質問番号が正しく連続している
- ファイル構成の一致: ✅
  - 説明されているファイル構成が実際の構造と一致

### 発見された問題
なし

---

### 観点4: 各フローでまったく使用されていない不要ファイルがないか

### 結果
✅ 問題なし

### 詳細
- 新規テーマ作成フローでの参照確認: ✅
  - `wildcard_rules.md`で参照されているファイルが全て存在
- 共通ライブラリ作成フローでの参照確認: ✅
  - `common_library_creation_rules.md`で参照されているファイルが全て存在
- 実際のthemeファイルでの参照確認: ✅
  - 各themeファイルで参照されているファイルが全て存在
- paramsファイルでの参照確認: ✅
  - paramsファイル間の参照が適切
- テンプレートファイルの使用確認: ✅
  - テンプレートファイルが適切に参照されている
- ドキュメントファイルの参照確認: ✅
  - ドキュメントファイルが適切に参照されている

### 発見された問題
なし

---

## 優先度別の問題リスト

### 🔴 高優先度（即座に修正が必要）
なし

### 🟡 中優先度（近日中に修正推奨）
1. **`pose_scenes_train.yaml`の未定義パラメータ参照**
   - ファイル: `themes/lovey/pose_scenes_train.yaml`
   - 問題: `outfit_business`が未定義
   - 修正方法: `outfit_business`を`blouse_skirt_blazer`または`office_lady`に一括置換
   - 影響: 電車・交通系シーンライブラリが正常に動作しない可能性

### 🟢 低優先度（改善の余地あり）
なし

---

## 修正アクションアイテム

- [ ] `themes/lovey/pose_scenes_train.yaml`内の`__自作2_1/params/outfit_business__`を`__自作2_1/params/blouse_skirt_blazer__`または`__自作2_1/params/office_lady__`に置き換え

---

## 補足情報

### 確認したファイル数
- シーンライブラリファイル: 16ファイル
- themeファイル: 約30ファイル
- paramsファイル: 5ファイル
- テンプレートファイル: 複数ファイル

### 確認した参照数
- パラメータ参照: 約128件
- ファイル参照: 多数

### 特記事項
- `sex_prompts.yaml`は独立したプロンプトファイルで、他のパラメータを参照していない（正常）
- `__MALE_TYPE__`はプレースホルダーとして使用されており、実際のパラメータ参照ではない（正常）
- `pose_scenes_shrine_newyear.yaml`が追加で存在するが、これは問題ではない（新年初詣用の追加シーンライブラリ）

