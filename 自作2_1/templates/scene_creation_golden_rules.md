# シーン作成の黄金律 (Golden Rules for Scene Creation)

このドキュメントは、高品質なシーンファイルを効率的に作成するための「黄金律」を定義します。
既存の検証済みシーン（beach, daily, office, onsen）から抽出したパターンに基づいています。

---

## 📊 統計データに基づく黄金律

### 1. ソロ/カップル比率

既存シーンの分析結果:
- Beach: 65% solo / 35% couple
- Daily: 52% solo / 48% couple
- Office: 50% solo / 50% couple
- Onsen: 51% solo / 49% couple

#### 黄金律
```
ソロシーン: 50-65%
カップルシーン: 35-50%
```

#### 推奨配分（12プロンプトのシーンの場合）
- **バランス型**: 6 solo / 6 couple (50/50)
- **ソロ重視型**: 7-8 solo / 4-5 couple (60/40)

#### テーマによる調整
- **ラブラブ (lovey)**: カップル多め (40-50%)
- **NTR**: カップル多め (50-60%)
- **日常系**: バランス (50/50)

---

### 2. カメラアングル配分

#### 必須アングル（最低6種類）

| アングル | 用途 | 頻度 |
|---------|------|------|
| `cowboy shot` | 汎用、最も使いやすい | 高 |
| `close-up, face focus` | 表情重視、親密シーン | 中 |
| `wide shot, full body` | 全体像、環境重視 | 中 |
| `pov, first person view` | 没入感、主観視点 | 中 |
| `from behind, over shoulder` | 背面、視線誘導 | 中 |
| `low angle, from below` | ドラマチック、迫力 | 低 |

#### 追加推奨アングル

| アングル | 用途 | 頻度 |
|---------|------|------|
| `high angle, from above` | 俯瞰、横たわる姿 | 低 |
| `dutch angle` | 動的、エネルギッシュ | 低 |
| `side view, from side` | プロフィール、並列 | 低 |

#### 黄金律
```
1シーン（8-12プロンプト）につき:
- 最低6種類のアングル使用
- cowboy shotを30-40%
- 特殊アングル（dutch, extreme）は10-20%
```

---

### 3. 動作バリエーション

#### 必須動作カテゴリ（最低8種類）

**静的ポーズ（40-50%）**
- `sitting` - 座る
- `standing` - 立つ
- `lying` - 横たわる
- `leaning` - もたれる

**動的ポーズ（20-30%）**
- `walking` - 歩く
- `running` - 走る
- `jumping` - 跳ねる
- `twirling` - 回る

**インタラクション（10-20%）**
- `holding hands` - 手をつなぐ
- `embracing` - 抱き合う
- `touching` - 触れる
- `back hug` - バックハグ

**活動（10-20%）**
- `eating` - 食べる
- `drinking` - 飲む
- `washing` - 洗う
- `reading` - 読む

#### 黄金律
```
1シーン（8-12プロンプト）につき:
- 最低8種類の異なる動作
- 静的40-50% / 動的20-30% / その他30%
- 同じ動作の連続は避ける
```

---

### 4. プロンプト構造フォーマット

#### 標準フォーマット
```
SS_CC_NNN,人物設定,場所,動作,詳細要素,カメラアングル,追加情報
```

#### 各要素の説明

| 要素 | 説明 | 例 |
|------|------|-----|
| `SS_CC_NNN` | 連番（シーン_カテゴリ_番号） | `01_ba_001` |
| 人物設定 | `1girl` or `1girl,1boy` | `1girl`, `couple,1girl,1boy` |
| 場所 | 具体的な場所 | `beach`, `kitchen`, `office` |
| 動作 | メインアクション | `walking`, `sitting`, `embracing` |
| 詳細要素 | 動作の詳細 | `holding bag`, `looking at ocean` |
| カメラアングル | 撮影アングル | `cowboy shot`, `pov`, `dutch angle` |
| 追加情報 | 雰囲気、修飾語 | `romantic`, `relaxing`, `playful` |

#### 黄金律
```
✅ 必須要素: 連番, 人物, 場所, 動作, アングル
✅ 推奨要素: 詳細要素, 追加情報
✅ 1プロンプト = 1つの明確なシーン
✅ 要素は「,」で区切る
```

---

## 🎯 シーン設計の黄金律

### 5. 1シーンのプロンプト数

#### 既存シーンの統計
- Beach Scene 1 (arrival): 8プロンプト
- Beach Scene 2 (activity): 12プロンプト
- Daily Scene 4 (dining): 8プロンプト
- Office Scene 1 (work): 6プロンプト

#### 黄金律
```
標準的なシーン: 8-12プロンプト
シンプルなシーン: 6-8プロンプト
重要なシーン: 10-15プロンプト
```

#### プロンプト数の決定基準
- **シーンの重要度**: 重要シーンほど多め
- **活動の多様性**: 多様な活動があれば多め
- **テーマの焦点**: 焦点となるシーンは多め

---

### 6. シーンの時系列構成

#### 典型的なシーンフロー（6-8シーン）

```
Scene 01: 到着・導入 (arrival, entrance)
  └─ 場所への到着、初めての印象

Scene 02-04: メイン活動 (main activities)
  └─ そのテーマの中心的な活動

Scene 05: 転換点 (transition)
  └─ 時間帯や雰囲気の変化

Scene 06-07: クライマックス (climax)
  └─ 最も親密な時間

Scene 08: 終了 (ending)
  └─ 余韻、次への期待
```

#### 黄金律
```
✅ 1テーマ = 6-8シーン
✅ 各シーン = 明確な目的を持つ
✅ 時系列に沿った自然な流れ
✅ 徐々に親密度が増す構成
```

---

## 🔧 実装チェックリスト

### 新規シーン作成時の必須チェック項目

#### ✅ 構造的バリデーション

- [ ] ソロ/カップル比率は50-65% / 35-50%か？
- [ ] カメラアングルは最低6種類あるか？
- [ ] 動作バリエーションは最低8種類あるか？
- [ ] 1シーンのプロンプト数は6-15個の範囲か？
- [ ] 連番フォーマット（SS_CC_NNN）を正しく使用しているか？

#### ✅ 品質確認ポイント

- [ ] 同じ動作・アングルの連続はないか？
- [ ] プロンプトは具体的で明確か？
- [ ] 場所情報は一貫しているか？
- [ ] カップルシーンで男性タイプの考慮があるか？
- [ ] 時系列に矛盾はないか？

#### ✅ 一貫性確認

- [ ] 場所名の表記は統一されているか？
- [ ] 連番は順序通りに並んでいるか？
- [ ] カテゴリ略称は`scene_category_codes.md`に準拠しているか？

---

## 🚀 クイック検証方式

### 代表プロンプトによる先行テスト

新規シーンを作成したら、**全プロンプトをテストする前に**以下の3つを先にテスト:

1. **最初のプロンプト** (001) - シーン導入が適切か
2. **中間のプロンプト** (中央番号) - バリエーションが機能するか
3. **最後のプロンプト** (最終) - シーン締めくくりが適切か

#### 判断基準
- ✅ 3つ全てが期待通り → 残りも問題なし（確率90%）
- ⚠️ 1つに問題 → 該当プロンプトのみ修正
- ❌ 2つ以上に問題 → シーン構造を見直し

#### 黄金律
```
クイック検証により、テスト→評価→再作成ループを80%削減
```

---

## 📝 テンプレート使用による効率化

### テンプレートベース生成の利点

1. **検証済み構造の再利用**
   - 既存の高品質シーンの構造をベースにする
   - 場所・連番・動作のみカスタマイズ
   
2. **試行錯誤の削減**
   - ソロ/カップル比率は自動的に最適
   - アングル配分は自動的にバランス
   
3. **品質の保証**
   - 黄金律に自動的に準拠
   - 構造的問題が起きにくい

#### 黄金律
```
✅ テンプレートを使用 → 品質保証 + 80%時短
✅ ゼロから作成 → 柔軟性高いが時間かかる
```

---

## 🎨 カスタマイズのポイント

### 場所固有の要素の追加

テンプレートをベースにしつつ、場所固有の要素を追加:

**例: プールシーン**
- 基本構造: `beach` シーンのテンプレート使用
- カスタマイズ: `beach` → `pool` に置換
- 追加要素: `poolside`, `diving board`, `swimming lane`

**例: 学校シーン**
- 基本構造: `office` シーンのテンプレート使用
- カスタマイズ: `office` → `classroom` に置換
- 追加要素: `school uniform`, `desk`, `chalkboard`

#### 黄金律
```
✅ 類似シーンのテンプレートを選択
✅ 場所名を置換
✅ 場所固有の要素を2-3個追加
✅ 連番とカテゴリ略称を更新
```

---

## 📊 まとめ: 数値で見る黄金律

| 項目 | 推奨値 | 備考 |
|------|--------|------|
| ソロ比率 | 50-65% | テーマにより調整 |
| カップル比率 | 35-50% | テーマにより調整 |
| 1シーンのプロンプト数 | 8-12個 | 重要シーンは15個まで |
| カメラアングル種類 | 最低6種類 | 多様性確保 |
| 動作バリエーション | 最低8種類 | 単調さ回避 |
| 1テーマのシーン数 | 6-8シーン | ストーリー性確保 |
| テスト効率化 | 80%削減 | クイック検証使用時 |

---

## 🔄 既存シーンからの学習

### ベストプラクティス例

#### Beach Scene 2 (activity) - 12プロンプト
```yaml
scene_beach_activity:
  - 02_bc_001,1girl,beach,sitting on sand,knees up,cowboy shot,relaxing pose
  - 02_bc_002,1girl,beach,standing in water,playing,pov,first person view,playful pose
  # ... (7 solo / 5 couple = 58% / 42%)
  # アングル: 7種類（cowboy, pov, dutch, high, close-up, low, wide）
  # 動作: 9種類（sitting, standing, lying, playing, splashing, adjusting, jumping, etc）
```

**評価**: ✅ 黄金律に完全準拠

#### Daily Scene 6 (intimate) - 10プロンプト
```yaml
scene_intimate_moment:
  - 06_in_001,1girl,living room,sitting on sofa,leaning forward,pov,sitting close
  - 06_in_002,1girl,couch,sitting,leaning closer,close-up,face focus,intimate distance
  # ... (3 solo / 7 couple = 30% / 70%)
  # アングル: 8種類
  # 動作: 10種類
```

**評価**: ✅ カップル重視の親密シーン、意図的なバランス調整

---

## 🎯 次のステップ

1. **テンプレート作成** - この黄金律に基づいたテンプレート作成
2. **サンプルシーン作成** - 10種類の新規シーン作成
3. **クイック検証** - 代表プロンプトのみでテスト
4. **本番投入** - 問題なければ即使用可能

---

**作成日**: 2026-01-01  
**バージョン**: 1.0  
**ベース**: beach, daily, office, onsen シーンの統計分析

